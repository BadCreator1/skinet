"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[786],{4786:(A,m,o)=>{o.r(m),o.d(m,{OrdersModule:()=>c});var n=o(6895),u=o(4047),t=o(1571),h=o(1261),f=o(529);class i{constructor(e){this.http=e,this.baseUrl=h.N.apiUrl}getOrders(){return this.http.get(this.baseUrl+"orders")}getOrderDetails(e){return this.http.get(this.baseUrl+"orders/"+e)}}function v(s,e){if(1&s&&(t.TgZ(0,"tr",7)(1,"td",8)(2,"strong"),t._uU(3),t.qZA()(),t.TgZ(4,"td",8),t._uU(5),t.ALo(6,"date"),t.qZA(),t.TgZ(7,"td",8),t._uU(8),t.ALo(9,"currency"),t.qZA(),t.TgZ(10,"td",8),t._uU(11),t.qZA()()),2&s){const r=e.$implicit;t.MGl("routerLink","/orders/",r.id,""),t.xp6(3),t.hij(" #",r.id," "),t.xp6(2),t.hij(" ",t.xi3(6,5,r.orderDate,"MMMM d y, h:mm:ss a")," "),t.xp6(3),t.hij(" ",t.lcZ(9,8,r.subtotal)," "),t.xp6(3),t.hij(" ",r.status," ")}}function O(s,e){if(1&s&&(t.TgZ(0,"tbody"),t.YNc(1,v,12,10,"tr",6),t.qZA()),2&s){const r=t.oxw();t.xp6(1),t.Q6J("ngForOf",r.orders)}}i.\u0275fac=function(e){return new(e||i)(t.LFG(f.eN))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"});class l{constructor(e){this.ordersService=e}ngOnInit(){this.getOrders()}getOrders(){this.ordersService.getOrders().subscribe(e=>{e&&(this.orders=e)},e=>console.log(e))}getOrderDetails(e){console.log(e)}}l.\u0275fac=function(e){return new(e||l)(t.Y36(i))},l.\u0275cmp=t.Xpm({type:l,selectors:[["app-orders"]],decls:18,vars:1,consts:[[1,"container"],[1,"table-responsive"],[1,"table"],["scope","col",1,"border-0","bg-light"],[1,"p-2","px-3","text-uppercase"],[4,"ngIf"],["class","order-row",3,"routerLink",4,"ngFor","ngForOf"],[1,"order-row",3,"routerLink"],[1,"align-middle"]],template:function(e,r){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"table",2)(3,"thead")(4,"tr")(5,"th",3)(6,"div",4),t._uU(7,"Order"),t.qZA()(),t.TgZ(8,"th",3)(9,"div",4),t._uU(10,"Date"),t.qZA()(),t.TgZ(11,"th",3)(12,"div",4),t._uU(13,"Total"),t.qZA()(),t.TgZ(14,"th",3)(15,"div",4),t._uU(16,"Status"),t.qZA()()()(),t.YNc(17,O,2,1,"tbody",5),t.qZA()()()),2&e&&(t.xp6(17),t.Q6J("ngIf",r.orders))},dependencies:[n.sg,n.O5,u.rH,n.H9,n.uU],styles:[".order-row[_ngcontent-%COMP%]:hover{background-color:#ececec;cursor:pointer}"]});var b=o(8909),Z=o(9281),T=o(3449);function y(s,e){if(1&s&&t._UZ(0,"app-basket-summary",6),2&s){const r=t.oxw();t.Q6J("isBasket",!1)("items",r.items)}}function x(s,e){if(1&s&&t._UZ(0,"app-order-totals",7),2&s){const r=t.oxw();t.Q6J("basketTotal",r.orderTotals)}}class p{constructor(e,r,d){this.route=e,this.ordersService=r,this.bcService=d,this.bcService.set("@orderDetails"," ")}ngOnInit(){this.route.params.subscribe(e=>{this.ordersService.getOrderDetails(e.id).subscribe(r=>{console.log(r),r&&(this.items=r.orderItems.map(d=>({price:d.price,quantity:d.quantity,name:d.productName,pictureUrl:d.pictureUrl}))),this.orderTotals={subtotal:r.subtotal,total:r.total,shipping:r.shippingPrice},this.bcService.set("@orderDetails",`Order # ${r.id} ${r.status}`),console.log(this.items)})})}}p.\u0275fac=function(e){return new(e||p)(t.Y36(u.gz),t.Y36(i),t.Y36(b.pm))},p.\u0275cmp=t.Xpm({type:p,selectors:[["app-orders-details"]],decls:6,vars:2,consts:[[1,"container"],[1,"row"],[1,"col-8"],[3,"isBasket","items",4,"ngIf"],[1,"col-4"],[3,"basketTotal",4,"ngIf"],[3,"isBasket","items"],[3,"basketTotal"]],template:function(e,r){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t.YNc(3,y,1,2,"app-basket-summary",3),t.qZA(),t.TgZ(4,"div",4),t.YNc(5,x,1,1,"app-order-totals",5),t.qZA()()()),2&e&&(t.xp6(3),t.Q6J("ngIf",r.items),t.xp6(2),t.Q6J("ngIf",r.orderTotals))},dependencies:[n.O5,Z.S,T.b]});const U=[{path:"",component:l},{path:":id",component:p,data:{breadcrumb:{alias:"orderDetails"}}}];class a{}a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[n.ez,u.Bz.forChild(U),u.Bz]});var g=o(4466);class c{}c.\u0275fac=function(e){return new(e||c)},c.\u0275mod=t.oAB({type:c}),c.\u0275inj=t.cJS({imports:[n.ez,a,g.m,g.m]})}}]);